#!/usr/bin/env bash

# Get the list of directories in /proc that represent running processes
process_dirs=$(find /proc -maxdepth 1 -type d -name '[0-9]*' 2>/dev/null)

# Iterate over the process directories
for dir in $process_dirs; do
  pid=$(basename "$dir")

  # Read the process name from the cmdline file
  process_name=$(tr '\0' ' ' < "$dir/cmdline" | awk '{print $1}')

  # Check if the process name contains the word "bash"
  if [[ "$process_name" == *"bash"* ]]; then
    echo "$pid $process_name"
  fi
done
